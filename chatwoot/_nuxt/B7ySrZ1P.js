import{l as w,ao as j,af as q,ae as N,q as R,I as C,ak as V,D as A,f as X,a6 as Y}from"./BbStRG96.js";function P(e){return q()?(N(e),!0):!1}function E(e){return typeof e=="function"?e():R(e)}const x=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const B=e=>e!=null,D=Object.prototype.toString,F=e=>D.call(e)==="[object Object]",h=()=>{},G=$();function $(){var e,t;return x&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function z(e){let t;function o(){return t||(t=e()),t}return o.reset=async()=>{const n=t;t=void 0,n&&await n},o}function H(e,t,o={}){const{immediate:n=!0}=o,u=w(!1);let r=null;function c(){r&&(clearTimeout(r),r=null)}function i(){u.value=!1,c()}function f(...p){c(),u.value=!0,r=setTimeout(()=>{u.value=!1,r=null,e(...p)},E(t))}return n&&(u.value=!0,x&&f()),P(i),{isPending:j(u),start:f,stop:i}}function U(e,t,o){const n=C(e,(...u)=>(V(()=>n()),t(...u)),o);return n}function g(e){var t;const o=E(e);return(t=o==null?void 0:o.$el)!=null?t:o}const I=x?window:void 0,L=x?window.navigator:void 0;function b(...e){let t,o,n,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,n,u]=e,t=I):[t,o,n,u]=e,!t)return h;Array.isArray(o)||(o=[o]),Array.isArray(n)||(n=[n]);const r=[],c=()=>{r.forEach(l=>l()),r.length=0},i=(l,v,s,a)=>(l.addEventListener(v,s,a),()=>l.removeEventListener(v,s,a)),f=C(()=>[g(t),E(u)],([l,v])=>{if(c(),!l)return;const s=F(v)?{...v}:v;r.push(...o.flatMap(a=>n.map(d=>i(l,a,d,s))))},{immediate:!0,flush:"post"}),p=()=>{f(),c()};return P(p),p}let M=!1;function Z(e,t,o={}){const{window:n=I,ignore:u=[],capture:r=!0,detectIframe:c=!1}=o;if(!n)return h;G&&!M&&(M=!0,Array.from(n.document.body.children).forEach(s=>s.addEventListener("click",h)),n.document.documentElement.addEventListener("click",h));let i=!0;const f=s=>u.some(a=>{if(typeof a=="string")return Array.from(n.document.querySelectorAll(a)).some(d=>d===s.target||s.composedPath().includes(d));{const d=g(a);return d&&(s.target===d||s.composedPath().includes(d))}}),l=[b(n,"click",s=>{const a=g(e);if(!(!a||a===s.target||s.composedPath().includes(a))){if(s.detail===0&&(i=!f(s)),!i){i=!0;return}t(s)}},{passive:!0,capture:r}),b(n,"pointerdown",s=>{const a=g(e);i=!f(s)&&!!(a&&!s.composedPath().includes(a))},{passive:!0}),c&&b(n,"blur",s=>{setTimeout(()=>{var a;const d=g(e);((a=n.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!(d!=null&&d.contains(n.document.activeElement))&&t(s)},0)})].filter(Boolean);return()=>l.forEach(s=>s())}function J(){const e=w(!1),t=Y();return t&&X(()=>{e.value=!0},t),e}function _(e){const t=J();return A(()=>(t.value,!!e()))}function W(e,t={}){const{controls:o=!1,navigator:n=L}=t,u=_(()=>n&&"permissions"in n);let r;const c=typeof e=="string"?{name:e}:e,i=w(),f=()=>{r&&(i.value=r.state)},p=z(async()=>{if(u.value){if(!r)try{r=await n.permissions.query(c),b(r,"change",f),f()}catch{i.value="prompt"}return r}});return p(),o?{state:i,isSupported:u,query:p}:i}function ee(e={}){const{navigator:t=L,read:o=!1,source:n,copiedDuring:u=1500,legacy:r=!1}=e,c=_(()=>t&&"clipboard"in t),i=W("clipboard-read"),f=W("clipboard-write"),p=A(()=>c.value||r),l=w(""),v=w(!1),s=H(()=>v.value=!1,u);function a(){c.value&&S(i.value)?t.clipboard.readText().then(m=>{l.value=m}):l.value=T()}p.value&&o&&b(["copy","cut"],a);async function d(m=E(n)){p.value&&m!=null&&(c.value&&S(f.value)?await t.clipboard.writeText(m):O(m),l.value=m,v.value=!0,s.start())}function O(m){const y=document.createElement("textarea");y.value=m??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function T(){var m,y,k;return(k=(y=(m=document==null?void 0:document.getSelection)==null?void 0:m.call(document))==null?void 0:y.toString())!=null?k:""}function S(m){return m==="granted"||m==="prompt"}return{isSupported:p,text:l,copied:v,copy:d}}function K(e,t,o={}){const{root:n,rootMargin:u="0px",threshold:r=.1,window:c=I,immediate:i=!0}=o,f=_(()=>c&&"IntersectionObserver"in c),p=A(()=>{const d=E(e);return(Array.isArray(d)?d:[d]).map(g).filter(B)});let l=h;const v=w(i),s=f.value?C(()=>[p.value,g(n),v.value],([d,O])=>{if(l(),!v.value||!d.length)return;const T=new IntersectionObserver(t,{root:g(O),rootMargin:u,threshold:r});d.forEach(S=>S&&T.observe(S)),l=()=>{T.disconnect(),l=h}},{immediate:i,flush:"post"}):h,a=()=>{l(),s(),v.value=!1};return P(a),{isSupported:f,isActive:v,pause(){l(),v.value=!1},resume(){v.value=!0},stop:a}}function te(e,t={}){const{window:o=I,scrollTarget:n,threshold:u=0}=t,r=w(!1);return K(e,c=>{let i=r.value,f=0;for(const p of c)p.time>=f&&(f=p.time,i=p.isIntersecting);r.value=i},{root:n,window:o,threshold:u}),r}function ne(e={}){const{window:t=I,behavior:o="auto"}=e;if(!t)return{x:w(0),y:w(0)};const n=w(t.scrollX),u=w(t.scrollY),r=A({get(){return n.value},set(i){scrollTo({left:i,behavior:o})}}),c=A({get(){return u.value},set(i){scrollTo({top:i,behavior:o})}});return b(t,"scroll",()=>{n.value=t.scrollX,u.value=t.scrollY},{capture:!1,passive:!0}),{x:r,y:c}}export{ne as a,te as b,Z as o,ee as u,U as w};
