import{o as p,A as y}from"./19aztJ2y.js";import{c as T,w as F,h as N,i as b,u as j,f as B}from"./DMRuzp0L.js";import{a2 as w,l as f,D as H,S as x,L as g,al as L,am as m,f as O,I as D,E as M,au as G,H as U,a6 as q}from"./BbStRG96.js";function W(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function z(){return/Android/gi.test(window.navigator.userAgent)}function K(){return W()||z()}function v(e,t,a){T.isServer||w(l=>{document.addEventListener(e,t,a),l(()=>document.removeEventListener(e,t,a))})}function A(e,t,a){T.isServer||w(l=>{window.addEventListener(e,t,a),l(()=>window.removeEventListener(e,t,a))})}function ee(e,t,a=H(()=>!0)){function l(n,u){if(!a.value||n.defaultPrevented)return;let r=u(n);if(r===null||!r.getRootNode().contains(r))return;let c=function i(o){return typeof o=="function"?i(o()):Array.isArray(o)||o instanceof Set?o:[o]}(e);for(let i of c){if(i===null)continue;let o=i instanceof HTMLElement?i:p(i);if(o!=null&&o.contains(r)||n.composed&&n.composedPath().includes(o))return}return!F(r,N.Loose)&&r.tabIndex!==-1&&n.preventDefault(),t(n,r)}let s=f(null);v("pointerdown",n=>{var u,r;a.value&&(s.value=((r=(u=n.composedPath)==null?void 0:u.call(n))==null?void 0:r[0])||n.target)},!0),v("mousedown",n=>{var u,r;a.value&&(s.value=((r=(u=n.composedPath)==null?void 0:u.call(n))==null?void 0:r[0])||n.target)},!0),v("click",n=>{K()||s.value&&(l(n,()=>s.value),s.value=null)},!0),v("touchend",n=>l(n,()=>n.target instanceof HTMLElement?n.target:null),!0),A("blur",n=>l(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function te(e,t,a,l){T.isServer||w(s=>{e=e??window,e.addEventListener(t,a,l),s(()=>e.removeEventListener(t,a,l))})}var J=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(J||{});function ne(){let e=f(0);return A("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function re({defaultContainers:e=[],portals:t,mainTreeNodeRef:a}={}){let l=f(null),s=b(l);function n(){var u,r,c;let i=[];for(let o of e)o!==null&&(o instanceof HTMLElement?i.push(o):"value"in o&&o.value instanceof HTMLElement&&i.push(o.value));if(t!=null&&t.value)for(let o of t.value)i.push(o);for(let o of(u=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?u:[])o!==document.body&&o!==document.head&&o instanceof HTMLElement&&o.id!=="headlessui-portal-root"&&(o.contains(p(l))||o.contains((c=(r=p(l))==null?void 0:r.getRootNode())==null?void 0:c.host)||i.some(h=>o.contains(h))||i.push(o));return i}return{resolveContainers:n,contains(u){return n().some(r=>r.contains(u))},mainTreeNodeRef:l,MainTreeNode(){return a!=null?null:x(B,{features:j.Hidden,ref:l})}}}let I=Symbol("ForcePortalRootContext");function Q(){return m(I,!1)}let le=g({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:a}){return L(I,e.force),()=>{let{force:l,...s}=e;return y({theirProps:s,ourProps:{},slot:{},slots:t,attrs:a,name:"ForcePortalRoot"})}}});function V(e){let t=b(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let a=t.getElementById("headlessui-portal-root");if(a)return a;let l=t.createElement("div");return l.setAttribute("id","headlessui-portal-root"),t.body.appendChild(l)}const P=new WeakMap;function X(e){var t;return(t=P.get(e))!=null?t:0}function C(e,t){let a=t(X(e));return a<=0?P.delete(e):P.set(e,a),a}let oe=g({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:a}){let l=f(null),s=H(()=>b(l)),n=Q(),u=m(R,null),r=f(n===!0||u==null?V(l.value):u.resolveTarget());r.value&&C(r.value,d=>d+1);let c=f(!1);O(()=>{c.value=!0}),w(()=>{n||u!=null&&(r.value=u.resolveTarget())});let i=m(E,null),o=!1,h=q();return D(l,()=>{if(o||!i)return;let d=p(l);d&&(M(i.register(d),h),o=!0)}),M(()=>{var d,$;let S=(d=s.value)==null?void 0:d.getElementById("headlessui-portal-root");!S||r.value!==S||C(r.value,k=>k-1)||r.value.children.length>0||($=r.value.parentElement)==null||$.removeChild(r.value)}),()=>{if(!c.value||r.value===null)return null;let d={ref:l,"data-headlessui-portal":""};return x(G,{to:r.value},y({ourProps:d,theirProps:e,slot:{},attrs:a,slots:t,name:"Portal"}))}}}),E=Symbol("PortalParentContext");function ae(){let e=m(E,null),t=f([]);function a(n){return t.value.push(n),e&&e.register(n),()=>l(n)}function l(n){let u=t.value.indexOf(n);u!==-1&&t.value.splice(u,1),e&&e.unregister(n)}let s={register:a,unregister:l,portals:t};return[t,g({name:"PortalWrapper",setup(n,{slots:u}){return L(E,s),()=>{var r;return(r=u.default)==null?void 0:r.call(u)}}})]}let R=Symbol("PortalGroupContext"),ue=g({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:a}){let l=U({resolveTarget(){return e.target}});return L(R,l),()=>{let{target:s,...n}=e;return y({theirProps:n,ourProps:{},slot:{},attrs:t,slots:a,name:"PortalGroup"})}}});export{oe as $,te as E,re as N,J as d,ne as n,ae as q,W as t,le as u,ee as w,ue as z};
